steps:
  - label: "ğŸ§± Setup"
    commands: 
      - cargo install buildkite-test-collector
    key: setup

  - label: "ğŸ‘·â€â™‚ï¸ Build"
    command: cargo build --release --verbose
    key: build
    depends_on: 
      - setup

  - label: "ğŸ§ª Test"
    commands:
      - rustup override set nightly
      - cargo test -- -Z unstable-options --format json --report-time | buildkite-test-collector
    key: test
    depends_on: 
      - build